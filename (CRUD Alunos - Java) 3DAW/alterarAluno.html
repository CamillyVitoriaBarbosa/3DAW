<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Alterar Aluno</title>
    <script>
        async function AlterarAluno(event) {
            event.preventDefault();

            let matricula = document.getElementById("matricula").value;
            let novaMatricula = document.getElementById("nova_matricula").value;
            let nome = document.getElementById("nome").value;
            let cpf = document.getElementById("cpf").value;
            let dtaNascimento = document.getElementById("dtaNascimento").value;

            let url = `http://localhost/(CRUD_Alunos_-_Java)_3DAW/alterarAluno.php?matricula=${matricula}&nova_matricula=${novaMatricula}&nome=${nome}&cpf=${cpf}&dtaNascimento=${dtaNascimento}`;

            try {
                let response = await fetch(url);
                if (response.ok) {
                    let data = await response.text();
                    console.log("Chegou a resposta OK: " + data);
                    document.getElementById("msg").innerHTML = data;
                } else {
                    console.log("Requisição falhou: " + response.status);
                }
            } catch (error) {
                console.error("Erro na requisição:", error);
            }
        }
    </script>
</head>
<body>
    <a href="index.html" class="back-button">
        &#8592;
    </a>
    <div class="center-box">
        <div class="topic-header">
            <header>Alterar Aluno</header>
        </div>
        <div class="message" id="msg"></div>
        <form onsubmit="AlterarAluno(event)" method="GET" name="formAluno" id="formAluno">
            <label for="matricula">Matricula do Aluno a alterar:</label>
            <input type="text" id="matricula" name="matricula" required> <br>
            Nova matricula do Aluno: <input type="text" id="nova_matricula" name="nova_matricula" required> <br>
            Nome: <input type="text" id="nome" name="nome"> <br>
            CPF: <input type="text" id="cpf" name="cpf"> <br>
            Data de nascimento: <input type="text" id="dtaNascimento" name="dtaNascimento"> <br>
            <br><br>
            <input type="submit" value="Alterar Aluno">
        </form>
    </div>
</body>
</html>
